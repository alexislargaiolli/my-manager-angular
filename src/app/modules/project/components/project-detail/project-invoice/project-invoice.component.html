<div class="container-fluid">
  <app-project-title [title]="title" (back)="goBack()" class="d-block mb-4"></app-project-title>
  <app-square-list [loading]="loading$ | async">
    <mat-card class="pt-0 create-wrapper">
      <mat-card-content class="d-flex flex-column justify-content-around align-items-center  h-100">
        <button [routerLink]="['./', 'create']" mat-raised-button class="blue circle">
          <mat-icon>add_circle</mat-icon>
          Créer un facture</button>
      </mat-card-content>
    </mat-card>

    <div *ngFor="let invoice of (invoices$ | async)" (click)="select(invoice)" class="square-list-item">
      <mat-card class="p-0">
        <div class="devis-state" [ngClass]="{'draft': invoice.state===0, 'bg-info': invoice.state===1, 'bg-success': invoice.state===2,'bg-danger': invoice.state === 3}">
          <span *ngIf="invoice.state === 0">Brouillon</span>
          <span *ngIf="invoice.state === 1">En attente</span>
          <span *ngIf="invoice.state === 2">Payée</span>
          <span *ngIf="invoice.state === 3">Abandonnée</span>
        </div>
        <div class="preview-wrapper">
          <app-invoice-preview [invoice]="invoice"></app-invoice-preview>
        </div>
      </mat-card>
    </div>
  </app-square-list>
</div>
