<h1>Inscription
  <small class="text-info" *ngIf="loading" [@fadeAnim]="'true'"> en cours...</small>
</h1>
<div class="progress-bar-wrapper">
  <mat-progress-bar mode="indeterminate" *ngIf="loading" [@fadeAnim]="'true'"></mat-progress-bar>
</div>
<form #registerForm="ngForm" name="registerForm" (ngSubmit)="register(registerForm)" class="d-flex flex-column" *ngIf="!registered">
  <mat-input-container>
    <input matInput ngModel name="lastname" placeholder="Nom" required [disabled]="loading">
    <mat-icon matSuffix>person_outline</mat-icon>
  </mat-input-container>
  <mat-input-container>
    <input matInput ngModel name="firstname" placeholder="Prénom" required [disabled]="loading">
    <mat-icon matSuffix>person_outline</mat-icon>
  </mat-input-container>
  <mat-input-container>
    <input matInput ngModel name="username" placeholder="Nom d'utilisateur" required [disabled]="loading">
    <mat-icon matSuffix>person_outline</mat-icon>
  </mat-input-container>
  <mat-input-container>
    <input #email="ngModel" matInput ngModel name="email" placeholder="Email" type="email" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
      [disabled]="loading">
    <mat-icon matSuffix>mail_outline</mat-icon>
    <mat-error *ngIf="email.errors?.pattern">Adresse email invalide</mat-error>
  </mat-input-container>
  <mat-input-container>
    <input #password="ngModel" matInput ngModel name="password" placeholder="Mot de passe" type="password" minlength="6" required
      [disabled]="loading">
    <mat-icon matSuffix>lock_outline</mat-icon>
    <mat-error *ngIf="password.errors?.minlength">6 caractères minimum</mat-error>
  </mat-input-container>

  <button mat-button class="blue align-self-end" [disabled]="loading">Inscription</button>
</form>
<div [@listFadeAnim]="'true'" *ngIf="registered">
  <p class="text-success">
    <mat-icon class="align-middle mr-2">check_circle</mat-icon>Inscription réussie</p>
  <p class="text-muted">
    <mat-icon class="align-middle mr-2">mail</mat-icon>Un email vous a été envoyé contenant un lien d'activation.</p>
</div>
